<div class=" bg-cyan-300  h-6rem w-full navbarEle">
  <h2 class="emplistEle"> <span> <i class="material-icons">people</i> </span> Employee List</h2>
</div>
<p-toast></p-toast>
<div class=" card surface-section  emptabledetailsContiner w-11 border-noround  border-400 border-solid">

  <div class=" h-5rem border-bottom-2 border-400">


    <p-button (click)="showDialog()" icon="pi pi-plus" label="ADD" styleClass="addbtnEle"
      *ngIf="addButtonDisabled"></p-button>

    <p-dialog header="Add Employee" [(visible)]="visible" [style]="{ width: '280px',height:'250px'}" [modal]="true" (onHide)="resetEmployeeId()"
      appendTo="body" [draggable]="false" [resizable]="false">

      <form #EmpidForm="ngForm" (ngSubmit)="checkEmployeeIdExist()" ngNativeValidate>
        <div class="col">
          <div><label> Employee Id </label></div>
          <input type="text" pInputText name="employee Id" [(ngModel)]="empId" pattern="^[+]?[0-9]+([0-9])*$"
            required />
        </div>
        <div class="col">

          <button pButton type="submit" label="Save" class="mr-4"></button>
          <button pButton type="button" label="Cancel" class="p-button-secondary ml-4" (click)="resetEmployeeId()"
            class="cancelbtn"></button>
        </div>
      </form>

    </p-dialog>
    <p-dropdown [options]="rowsPerPageOptions" optionLabel="label" optionValue="value" [(ngModel)]="rows2"
      (ngModelChange)="first2 = 0"></p-dropdown>
  </div>

  <p-table [columns]="cols" [value]="fetchingEmployeeData" styleClass="tableEle" sortMode="multiple" 
    [paginator]="true" [rows]="rows2" responsiveLayout="scroll" [scrollable]="true" 
    (onPageChange)="onPageChange($event)">


    <ng-template pTemplate="header" let-columns class="tableHeadingEle">

      <tr>

        <th *ngFor="let col of columns" [pSortableColumn]="col.field">
          {{col.header}}
          <p-sortIcon [field]="col.field"></p-sortIcon>
        </th>
        <th pSortableColumn="Actions" *ngIf="deleteButtonViewmode">Actions<p-sortIcon field="Actions"></p-sortIcon></th>

      </tr>

    </ng-template>
    <ng-template pTemplate="body" let-rowData let-columns="columns">
      <tr (dblclick)="doubleClick(rowData.employeeId)">
        <ng-container *ngFor="let col of columns">
          <td *ngIf="col.field == 'shift'  ">
            {{ rowData[col.field] | titlecase}}
          </td>

          <td *ngIf="col.field != 'shift'">
            {{ rowData[col.field]}}
          </td>
        </ng-container>
        <td *ngIf=" deleteButtonViewmode">

          <button type="button" icon="pi pi-times" pButton (click)="deleteBasedOnEmployeeId(rowData.employeeId)"
            label="Delete"></button>
        </td>
      </tr>
    </ng-template>
    <ng-template pTemplate="emptymessage">
      <tr>
        <td colspan="16" style="text-align: center;">No data found</td>
      </tr>
    </ng-template>

  </p-table>


</div>
<p-confirmDialog [style]="{width: '279px'}"></p-confirmDialog>