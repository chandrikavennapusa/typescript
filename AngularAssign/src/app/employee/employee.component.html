<div class=" bg-cyan-300  h-6rem w-full navBarText">
  <h2 class="employeeListText"> <span> <i class="material-icons peopleTextIcon">people</i> </span> Employee List</h2>
</div>
<p-toast styleClass="toastField"></p-toast>
<div class=" card surface-section  employeeTableDetailsContiner w-11 ">
  <div class=" h-5rem border-bottom-2 border-400">
    <p-button (click)="showDialog()" icon="pi pi-plus" label="Add" styleClass="addButtonText"
      *ngIf="addButtonDisabled"></p-button>
    <p-dialog header="Add Employee" [(visible)]="visible" [style]="{ width: '280px',height:'250px'}" [modal]="true"
      (onHide)="resetEmployeeId()" appendTo="body" [draggable]="false" [resizable]="false">
      <form #EmpidForm="ngForm" (ngSubmit)="checkEmployeeIdExist()" ngNativeValidate>
        <div class="col">
          <div class="mb-2"><label> Employee Id *</label></div>
          <input type="text" pInputText name="employee Id" [(ngModel)]="employeeId" pattern="^[+]?[0-9]+([0-9])*$"
            required />
        </div>
        <div class="col">
          <button pButton type="submit" label="Save" class="mr-4"></button>
          <button pButton type="button" label="Cancel" class="p-button-secondary ml-4"
            (click)="resetEmployeeId()"></button>
        </div>
      </form>
    </p-dialog>
    <p-dropdown [options]="rowsPerPageOptions" optionLabel="label" optionValue="value" [(ngModel)]="rows"
      (ngModelChange)="first"></p-dropdown>
  </div>
  <p-table [columns]="cols" [value]="fetchingEmployeeData" styleClass="p-datatable-striped" sortMode="multiple"
    [paginator]="rows<paginatorDisable" [rows]="rows" responsiveLayout="scroll" [scrollable]="true"  
    (onPageChange)="onPageChange($event)">
    <ng-template pTemplate="header" let-columns class="tableHeadingEle">
      <tr> 
        <th *ngFor="let col of columns" [pSortableColumn]="col.field">
          {{col.header}} 
          <p-sortIcon [field]="col.field"></p-sortIcon>
        </th>
        <th pSortableColumn="Actions" *ngIf="deleteButtonViewmode">Actions<p-sortIcon field="Actions"></p-sortIcon></th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-rowData let-columns="columns">
      <tr (dblclick)="doubleClick(rowData.employeeId)">
        <ng-container *ngFor="let col of columns">
          <td *ngIf="col.field == 'shift'  ">
            {{ rowData[col.field] | titlecase}}
          </td>
          <td *ngIf="col.field == 'gender' ">
            {{ rowData[col.field] | titlecase}}
          </td>
          <td *ngIf="col.field != 'shift' && col.field != 'gender' ">
            {{ rowData[col.field]}}
          </td>
        </ng-container>
        <td *ngIf=" deleteButtonViewmode">
          <button type="button" icon="pi pi-times" pButton (click)="deleteBasedOnEmployeeId(rowData.employeeId)"
            label="Delete"></button>
        </td>
      </tr>
    </ng-template>
    <ng-template pTemplate="emptymessage">
      <tr>
        <td colspan="16" style="text-align: center;">No data found</td>
      </tr>
    </ng-template>
  </p-table>
</div>
<p-confirmDialog [style]="{width: '279px'}"></p-confirmDialog>
