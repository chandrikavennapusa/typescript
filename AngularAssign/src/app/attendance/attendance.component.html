<div [ngClass]="{backgroundcolor:attendenceempidhidden}">
   
    
 <div class=" bg-cyan-100  h-6rem relative navEle">
    <h2> <span> <i class="material-icons">people</i> </span> Attendence List </h2>
    <p-messages [(value)]="sucessmessagedata" *ngIf="successmessagedataEle" ></p-messages>
    <p-messages [(value)]="errormessagedata" *ngIf="errormessagedataEle"></p-messages>
 </div>

 <div class="relative addattendeneEle">
    <button pButton type="button" label="ADD" class="attendenceAddbtnEle" (click)="addAttendece()" *ngIf="addbtndisable"> 
        <span><i class="pi pi-plus"></i></span> 
    </button>
    <span class="p-input-icon-right serachEle" *ngIf="serachempview">
        <input type="text" pInputText [(ngModel)]="serchempidvalue"  (keyup)="searching()" />
        <i class="pi pi-search" ></i>
    </span>   
 </div>
 <div class="card">
    <p-table [value]="gettingattendencedata" 
    styleClass="p-datatable-striped"
    [paginator]="true"
    [rows]="5"
    [showCurrentPageReport]="true"
   
    currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
    [rowsPerPageOptions]="[10, 25, 50]"
    >
            <ng-template pTemplate="header">
                <tr>
                    <th pSortableColumn="employeeId" >EmployeeId<p-sortIcon field="employeeId"></p-sortIcon></th>
                    <th pSortableColumn="month">Month<p-sortIcon field="month"></p-sortIcon></th>
                    <th pSortableColumn="date" >Date <p-sortIcon field="date"></p-sortIcon></th>  
                    <th pSortableColumn="departmentId" >DepartmentId <p-sortIcon field="departmentId"></p-sortIcon></th>
                     <th pSortableColumn="available" >Available<p-sortIcon field="available"></p-sortIcon></th>
                    <th pSortableColumn="checkIn">CheckIn<p-sortIcon field="checkIn"></p-sortIcon></th>
                    <th pSortableColumn="checkout" >Checkout <p-sortIcon field="checkout"></p-sortIcon></th> 
                     <th pSortableColumn="attendanceCount">AttendanceCount <p-sortIcon field="attendanceCount"></p-sortIcon></th>
                    <th pSortableColumn="shift" >Shift<p-sortIcon field="shift"></p-sortIcon></th> 
                    <th pSortableColumn="createdSource" >CreatedSource<p-sortIcon field=">createdSource"></p-sortIcon></th>
                    <th pSortableColumn="createdSourceType">CreatedSourceType<p-sortIcon field="createdSourceType"></p-sortIcon></th>
                    <th pSortableColumn="createdDttm" >CreatedDttm<p-sortIcon field="createdDttm"></p-sortIcon></th>  
                    <th pSortableColumn="modifiedSource" >ModifiedSource<p-sortIcon field="modifiedSource"></p-sortIcon></th>
                    <th pSortableColumn="modifiedSourceType" >ModifiedSourceType<p-sortIcon field="modifiedSourceType"></p-sortIcon></th>
                     <th pSortableColumn="modifiedDttm" >ModifiedDttm<p-sortIcon field="modifiedDttm"></p-sortIcon></th>
                <th *ngIf="deleteviewmode">Actions</th>
                    </tr>
            </ng-template>
            <ng-template pTemplate="body" let-rowData  >
                
                <tr (dblclick)="doubleClick(rowData)" >
                
                    <td>{{rowData.employeeId}}</td>
                    <td>{{rowData.month}}</td>
                    <td>{{rowData.date}}</td>
                    <td>{{rowData.departmentId}}</td>
                    <td>{{rowData.available}}</td>
                    <td>{{rowData.checkIn}}</td>
                    <td>{{rowData.checkout}}</td>
                    <td>{{rowData.attendanceCount}}</td>
                    <td>{{rowData.shift}}</td>
                    <td>{{rowData.createdSource}}</td>
                    <td>{{rowData.createdSourceType}}</td>
                    <td>{{rowData.createdDttm}}</td>
                    <td>{{rowData.modifiedSource}}</td>
                    <td>{{rowData.modifiedSourceType}}</td>
                    <td>{{rowData.modifiedDttm}}</td>
                    <td *ngIf="deleteviewmode"><p-button  icon="pi pi-times" label="Delete" class="p-button-danger"
                         (click)="deletebasedonempiddeptid(rowData.employeeId ,rowData.departmentId)" ></p-button>
                    </td>
                </tr>
            </ng-template>

            <ng-template pTemplate="emptymessage">
                <tr>
            <td colspan="16" style="text-align: center;">No data</td>
               </tr>
            </ng-template>
          
        </p-table>
    </div>
    <p-confirmDialog [style]="{width: '80vw', height:'70px'}"></p-confirmDialog>

 </div>

    <app-footer></app-footer>




<div class="grid border-solid border-200 p-5 w-min absolute text-center  attendenceidformcontainer" *ngIf="attendenceempidhidden">

        <form  #deptidEmpidForm="ngForm" (ngSubmit)="empiddeptidcheck()" ngNativeValidate>
         <div>
             <div><label>Employee Id:</label></div>
             <input type="text" pInputText [(ngModel)]="employeeId" name="employeeid" required />
             </div>
         
            <div class="deptidEle">
             <div><label>Department Id:</label></div>
             <input type="text" pInputText [(ngModel)]="departmentid" name="departmentid" required />
            </div>
         
             <div>
                <button pButton type="submit" label="Save" class="saveEle"></button>
             <p-button label="Cancel" styleClass="p-button-secondary " class="cancelEle" (click)="cancelempiddeptid()"></p-button>
             </div>
        </form>
     </div>  
